import{l as c,P as w,by as v,r as n,j as e,y as d}from"./index-BBhEgxr5.js";import{L as u}from"./loader-circle-Bn7_-Q9n.js";import{C as o}from"./circle-alert-C78utVqG.js";import{S as k}from"./shopping-bag-DhD4ebYR.js";import{C as S}from"./circle-check-CcZ4Nu_Z.js";import{S as A}from"./save-B81yJIJ4.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],C=c("settings-2",M);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],_=c("toggle-left",E);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],F=c("toggle-right",z),I=()=>{const{data:i,isLoading:b,isError:f}=w(),[p,{isLoading:l}]=v(),[m,x]=n.useState(""),[s,h]=n.useState(!1),[g,r]=n.useState(!1);n.useEffect(()=>{i&&(x(i.minimumOrderAmount??0),h(i.isMinimumOrderAmountEnabled??!1),r(!1))},[i]);const j=t=>{const a=t.target.value;(a===""||/^\d*\.?\d{0,2}$/.test(a))&&(x(a),r(!0))},y=()=>{h(t=>!t),r(!0)},N=async()=>{const t=parseFloat(m);if(isNaN(t)||t<0){d.error("Zəhmət olmasa düzgün minimum sifariş məbləği daxil edin.");return}try{await p({minimumOrderAmount:t,isMinimumOrderAmountEnabled:s}).unwrap(),d.success("Tənzimləmələr uğurla saxlanıldı!"),r(!1)}catch(a){d.error(a?.data?.message||"Tənzimləmələri saxlamaq mümkün olmadı.")}};return e.jsxs("div",{className:"min-h-screen bg-[#181818] text-white p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center",children:e.jsx(C,{className:"w-5 h-5 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mağaza Tənzimləmələri"}),e.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:"Ümumi mağaza parametrlərini idarə edin"})]})]}),b?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(u,{className:"w-8 h-8 animate-spin text-orange-400"})}):f?e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-2xl text-red-400",children:[e.jsx(o,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{children:"Tənzimləmələr yüklənmədi. Zəhmət olmasa yenidən cəhd edin."})]}):e.jsxs("div",{className:"max-w-2xl space-y-6",children:[e.jsxs("div",{className:"bg-[#222] border border-white/10 rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/10 bg-white/5",children:[e.jsx(k,{className:"w-5 h-5 text-orange-400"}),e.jsx("h2",{className:"font-semibold text-white text-base",children:"Minimum Sifariş Məbləği"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white text-sm",children:"Minimum Sifarişi Aktiv Et"}),e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Aktiv olduqda, müştərilər ödəniş etmək üçün minimum məbləği keçməlidir."})]}),e.jsx("button",{onClick:y,className:"flex-shrink-0 transition-transform active:scale-95","aria-label":"Minimum sifariş məbləğini aktiv/deaktiv et",children:s?e.jsx(F,{className:"w-12 h-12 text-orange-400 drop-shadow-[0_0_8px_rgba(251,146,60,0.5)]"}):e.jsx(_,{className:"w-12 h-12 text-gray-500"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"minOrderAmount",className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Məbləğ (AZN)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-sm select-none",children:"₼"}),e.jsx("input",{id:"minOrderAmount",type:"number",min:"0",step:"0.01",value:m,onChange:j,disabled:!s,placeholder:"0.00",className:`w-full pl-9 pr-4 py-3 rounded-xl border text-white font-semibold text-base outline-none transition-all
                      ${s?"bg-[#2a2a2a] border-orange-500/40 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20":"bg-[#1a1a1a] border-white/10 text-gray-500 cursor-not-allowed"}`})]}),!s&&e.jsx("p",{className:"text-xs text-gray-500 mt-1.5 italic",children:"Dəyəri redaktə etmək üçün yuxarıdakı açarı aktiv edin."})]}),e.jsx("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl text-sm font-medium
                ${s?"bg-orange-500/10 border border-orange-500/20 text-orange-300":"bg-gray-700/30 border border-white/10 text-gray-400"}`,children:s?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-bold mx-1",children:["₼ ",parseFloat(m||0).toFixed(2)]})," minimum sifariş məbləği aktivdir."]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-4 h-4"}),"Heç bir minimum sifariş məbləği tətbiq edilmir."]})})]}),e.jsx("div",{className:"px-6 py-4 border-t border-white/10 bg-white/5 flex justify-end",children:e.jsx("button",{onClick:N,disabled:l||!g,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl font-semibold text-sm transition-all active:scale-95
                  ${g&&!l?"bg-orange-500 hover:bg-orange-400 text-white shadow-lg shadow-orange-500/30":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-4 h-4 animate-spin"}),"Saxlanılır…"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"w-4 h-4"}),"Yadda Saxla"]})})})]}),e.jsxs("div",{className:"flex gap-3 p-4 bg-blue-500/10 border border-blue-500/20 rounded-2xl text-blue-300 text-sm",children:[e.jsx(o,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("p",{children:"Minimum sifariş məbləği aktiv olduqda, istifadəçilər ödəniş zamanı səbət cəmi tələb olunan məbləği ödəmədikdə bildiriş görəcəklər."})]})]})]})};export{I as default};
