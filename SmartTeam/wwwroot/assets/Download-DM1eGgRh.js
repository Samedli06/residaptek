import{u as w,a6 as h,a7 as u,r as b,j as e}from"./index-DLTHSUkz.js";import{L as i}from"./loader-circle-BGmTCRFh.js";import{D as f}from"./download-Bmr42Arw.js";const D=()=>{const{t:l}=w(),{data:n,isLoading:c,error:m}=h(),[x,{isLoading:j}]=u(),[r,t]=b.useState(null),p=async(a,s)=>{try{t(a);const d=await x(a).unwrap(),g=d.originalFileName||s||"download.pdf",o=document.createElement("a");o.href=d.url,o.download=g,document.body.appendChild(o),o.click(),o.remove(),t(null)}catch(d){console.error("Download failed:",d),alert(l("download.downloadFailed")),t(null)}};return e.jsxs("section",{className:"bg-[#f7fafc] inter pb-18 min-h-[80vh]",children:[e.jsx("div",{className:"md:max-w-[90vw] mx-auto",children:e.jsx("h1",{className:"text-2xl font-semibold text-center p-5 py-7 md:px-0 bg-white border-1 border-[#dee2e6] md:text-start md:bg-transparent md:border-0",children:l("downloadPage")})}),e.jsx("div",{className:"max-w-[90vw] flex flex-col gap-3 lg:gap-x-16 lg:gap-y-10 mx-auto mt-8 sm:grid sm:grid-cols-2 lg:grid-cols-3",children:c?e.jsx("div",{className:"col-span-full flex justify-center items-center py-12",children:e.jsx(i,{className:"w-12 h-12 animate-spin text-gray-600"})}):m?e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-red-600 text-lg",children:l("download.failedToLoad")})}):n?.length===0?e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsx("p",{className:"text-gray-600 text-lg",children:l("download.noFilesAvailable")})}):n?.map((a,s)=>e.jsxs("button",{onClick:()=>p(a.id,a.originalFileName),disabled:r===a.id,className:`bg-white rounded-lg border-1 border-[#dee2e6] p-6 md:p-8 py-8 flex justify-between items-center hover:shadow-lg transition-shadow duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed
                ${s>=2?"hidden sm:flex":""}
                ${s>=4?"hidden lg:flex":""}
              `,children:[e.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[e.jsx("h1",{className:"font-semibold text-xl lg:text-2xl",children:a.originalFileName||a.fileName||a.category||l("download.download")}),e.jsx("p",{className:"text-[#4E4E4E] lg:text-lg",children:a.description||l("download.clickToDownload")})]}),e.jsx("div",{className:"border-1 border-[#BEBEBE] p-3 rounded-full hover:bg-gray-50 transition-colors",children:r===a.id?e.jsx(i,{className:"w-6 h-6 animate-spin"}):e.jsx(f,{})})]},a.id))})]})};export{D as default};
