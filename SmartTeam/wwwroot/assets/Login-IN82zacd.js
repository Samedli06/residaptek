import{u as v,r as x,e as y,v as N,a8 as P,j as e,L as o,a9 as L,y as m}from"./index-DXStjdCc.js";import{A}from"./arrow-left-CZlfukew.js";import{E as k}from"./eye-Ca6khng2.js";import{E as C}from"./eye-off-BehpjZ9F.js";import{L as E}from"./loader-circle-Do0avO8G.js";const q=()=>{const{t}=v(),[l,h]=x.useState({email:"",password:""}),[r,u]=x.useState(!1),c=y(),n=N().state?.from||"/",[p,{isLoading:d}]=P(),f=()=>u(a=>!a),w=(a,s,i)=>{const b="expires="+new Date(i).toUTCString();document.cookie=`${a}=${s}; ${b}; path=/; SameSite=Lax; Secure`},j=async a=>{a.preventDefault();try{const s=await p({email:l.email,password:l.password}).unwrap();w("token",s.token,s.expiresAt),L(s.token).role!="Admin"?n&&n!=="/"?c(n,{replace:!0}):window.location.href="/":c("/admin")}catch(s){console.error("Login failed:",s),s?.status===401?m.error(t("loginPage.invalidCredentials")):m.error(t("loginPage.somethingWrong"))}},g=a=>{const{name:s,value:i}=a.target;h({...l,[s]:i})};return e.jsxs("div",{className:"min-h-screen flex items-stretch font-sans bg-white selection:bg-[#197853] selection:text-white",children:[e.jsxs("div",{className:"hidden lg:flex w-1/2 bg-[#197853] flex-col justify-between p-16 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-[#4CAF7E] rounded-full blur-[150px] opacity-20 -translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-[#1A8B5E] rounded-full blur-[150px] opacity-30 translate-x-1/3 translate-y-1/3"}),e.jsx("div",{className:"relative z-10 animate-fade-in-up"}),e.jsxs("div",{className:"relative z-10 max-w-lg text-white/90 animate-fade-in-up delay-100",children:[e.jsxs("h2",{className:"text-5xl font-light mb-6 leading-tight",children:[t("loginPage.welcomeBack"),e.jsx("br",{}),e.jsx("span",{className:"font-bold text-[#4CAF7E]",children:t("loginPage.valuedCustomer")})]}),e.jsx("p",{className:"text-lg opacity-80 leading-relaxed font-light",children:t("loginPage.welcomeDesc")})]}),e.jsxs("div",{className:"relative z-10 text-white/50 text-sm font-light flex items-center gap-4 animate-fade-in-up delay-200",children:[e.jsxs("span",{children:["Â© ",new Date().getFullYear()," E-Depo"]}),e.jsx("div",{className:"h-px w-8 bg-white/20"}),e.jsx("span",{children:t("loginPage.privacyPolicy")})]})]}),e.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-16 relative bg-white",children:[e.jsx(o,{to:"/",className:"absolute top-6 left-6 lg:hidden p-2 text-gray-500 hover:text-[#197853] transition-colors",children:e.jsx(A,{size:24})}),e.jsxs("div",{className:"w-full max-w-[420px] space-y-8 animate-fade-in",children:[e.jsx("div",{className:"lg:hidden text-center mb-8",children:e.jsx(o,{to:"/",children:e.jsx("img",{src:"/Icons/logo.png",alt:"E-Depo Logo",className:"h-10 w-auto object-contain mx-auto"})})}),e.jsxs("div",{className:"text-center lg:text-left space-y-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#197853]",children:t("loginPage.title")}),e.jsx("p",{className:"text-gray-500",children:t("loginPage.detailsInstruction")})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5 ml-1",children:t("loginPage.emailLabel")}),e.jsx("div",{className:"relative transition-all duration-300 focus-within:ring-1 focus-within:ring-[#197853] focus-within:border-[#197853] rounded-xl",children:e.jsx("input",{type:"email",required:!0,name:"email",onChange:g,className:"w-full px-5 py-3.5 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all placeholder:text-gray-400 text-gray-900 group-hover:bg-white group-hover:border-gray-300",placeholder:t("loginPage.emailPlaceholder")})})]}),e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("loginPage.passwordLabel")}),e.jsx(o,{to:"/forgot-password",className:"text-xs font-semibold text-[#197853] hover:text-[#0A4A30] transition-colors",children:t("loginPage.forgotPassword")})]}),e.jsxs("div",{className:"relative transition-all duration-300 focus-within:ring-1 focus-within:ring-[#197853] focus-within:border-[#197853] rounded-xl",children:[e.jsx("input",{type:r?"text":"password",required:!0,minLength:8,name:"password",onChange:g,className:"w-full px-5 py-3.5 bg-gray-50 border border-gray-200 rounded-xl outline-none transition-all placeholder:text-gray-400 text-gray-900 pr-12 group-hover:bg-white group-hover:border-gray-300",placeholder:t("loginPage.passwordPlaceholder")}),e.jsx("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#197853] transition-colors cursor-pointer p-1",onClick:f,children:r?e.jsx(k,{size:20}):e.jsx(C,{size:20})})]})]})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-[#197853] hover:bg-[#0A4A30] text-white py-4 rounded-xl font-bold tracking-wide transition-all duration-300 shadow-lg shadow-[#197853]/20 transform hover:-translate-y-0.5 active:translate-y-0",children:d?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(E,{className:"animate-spin",size:20}),e.jsx("span",{children:t("loginPage.signingIn")})]}):t("loginPage.signIn")})]}),e.jsxs("div",{className:"pt-2 text-center text-sm text-gray-500",children:[t("loginPage.noAccount")," ",e.jsx(o,{to:"/register",className:"font-bold text-[#197853] hover:text-[#0A4A30] transition-colors",children:t("loginPage.createAccount")})]}),e.jsx("div",{className:"text-center",children:e.jsx(o,{to:"/",className:"text-xs font-medium text-gray-400 hover:text-[#197853] transition-colors decoration-slice",children:t("loginPage.continueGuest")})})]})]})]})};export{q as default};
